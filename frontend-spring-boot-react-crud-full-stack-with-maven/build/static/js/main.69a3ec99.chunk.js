(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a(79)},51:function(e,t,a){},52:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),c=a.n(s),l=(a(51),a(2)),i=a(3),o=a(5),u=a(4),d=a(6),m=(a(52),a(1)),h=a(9),p=a.n(h),b="http://localhost:8080",f=new(function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"retrieveAllCourses",value:function(){return p.a.get("".concat(b,"/courses"))}},{key:"retrieveCourse",value:function(e){return p.a.get("".concat(b,"/courses/").concat(e))}},{key:"deleteCourse",value:function(e){return p.a.delete("".concat(b,"/courses/").concat(e))}},{key:"updateCourse",value:function(e,t){return p.a.put("".concat(b,"/courses/").concat(e),t)}},{key:"createCourse",value:function(e){return p.a.post("".concat(b,"/courses"),e)}},{key:"retrieveAllUsers",value:function(e){return p.a.get("".concat(b,"/courses/").concat(e,"/addUser"))}},{key:"retrieveUsersNotOnCourse",value:function(e){return p.a.get("".concat(b,"/courses/").concat(e,"/getUsers"))}},{key:"addUser",value:function(e,t){return p.a.put("".concat(b,"/courses/").concat(e,"/addUser/").concat(t))}},{key:"deleteUser",value:function(e,t){return p.a.delete("".concat(b,"/courses/").concat(e,"/addUser/").concat(t))}}]),e}()),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={courses:[],message:null},a.deleteCourseClicked=a.deleteCourseClicked.bind(Object(m.a)(Object(m.a)(a))),a.updateCourseClicked=a.updateCourseClicked.bind(Object(m.a)(Object(m.a)(a))),a.addCourseClicked=a.addCourseClicked.bind(Object(m.a)(Object(m.a)(a))),a.refreshCourses=a.refreshCourses.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.refreshCourses()}},{key:"refreshCourses",value:function(){var e=this;f.retrieveAllCourses().then(function(t){e.setState({courses:t.data})})}},{key:"deleteCourseClicked",value:function(e){var t=this;console.log(e),f.deleteCourse(e).then(function(a){t.setState({message:"Delete of course ".concat(e," Successful")}),t.refreshCourses()})}},{key:"modifyUsersClicked",value:function(e){this.props.history.push("/courses/".concat(e,"/addUser"))}},{key:"addCourseClicked",value:function(){this.props.history.push("/courses/-1")}},{key:"updateCourseClicked",value:function(e){this.props.history.push("/courses/".concat(e))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"All Courses"),this.state.message&&r.a.createElement("div",{className:"alert alert-success"},this.state.message),r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Update"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,this.state.courses.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement("a",{href:"",onClick:function(){return e.modifyUsersClicked(t.id)}},t.id)),r.a.createElement("td",null,r.a.createElement("a",{href:"",onClick:function(){return e.modifyUsersClicked(t.id)}},t.description)),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.updateCourseClicked(t.id)}},"Update")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.deleteCourseClicked(t.id)}},"Delete")))}))),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"btn btn-success",onClick:this.addCourseClicked},"Add"))))}}]),t}(n.Component),E=a(18),k=a(7),g=a(11),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={id:a.props.match.params.id,description:""},a.onSubmit=a.onSubmit.bind(Object(m.a)(Object(m.a)(a))),a.validate=a.validate.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;-1!=this.state.id&&f.retrieveCourse(this.state.id).then(function(t){return e.setState({description:t.data.description})})}},{key:"validate",value:function(e){var t={};return e.description?e.description.length<5&&(t.description="Enter atleast 5 Characters in Description"):t.description="Enter a Description",t}},{key:"onSubmit",value:function(e){var t=this,a={id:this.state.id,description:e.description,targetDate:e.targetDate};-1==this.state.id?f.createCourse(a).then(function(){return t.props.history.push("/courses")}):f.updateCourse(this.state.id,a).then(function(){return t.props.history.push("/courses")})}},{key:"render",value:function(){var e=this.state,t=e.description,a=e.id;return r.a.createElement("div",null,r.a.createElement("h3",null,"Course"),r.a.createElement("div",{className:"container"},r.a.createElement(g.d,{initialValues:{id:a,description:t},onSubmit:this.onSubmit,validateOnChange:!1,validateOnBlur:!1,validate:this.validate,enableReinitialize:!0},function(e){return r.a.createElement(g.c,null,r.a.createElement(g.a,{name:"description",component:"div",className:"alert alert-warning"}),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Id"),r.a.createElement(g.b,{className:"form-control",type:"text",name:"id",disabled:!0})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement(g.b,{className:"form-control",type:"text",name:"description"})),r.a.createElement("button",{className:"btn btn-success",type:"submit"},"Save"))})))}}]),t}(n.Component),C=new(function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"retrieveAllUsers",value:function(){return p.a.get("".concat("http://localhost:8080","/users"))}},{key:"retrieveUser",value:function(e){return p.a.get("".concat("http://localhost:8080","/users/").concat(e))}},{key:"deleteUser",value:function(e){return p.a.delete("".concat("http://localhost:8080","/users/").concat(e))}},{key:"updateUser",value:function(e,t){return p.a.put("".concat("http://localhost:8080","/users/").concat(e),t)}},{key:"createUser",value:function(e){return p.a.post("".concat("http://localhost:8080","/user"),e)}}]),e}()),O=a(45),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={id:a.props.match.params.id,nome:"",endereco:"",email:"",telefone:"",password:"",papeis:[]},a.onSubmit=a.onSubmit.bind(Object(m.a)(Object(m.a)(a))),a.validate=a.validate.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;-1!=this.state.id&&C.retrieveUser(this.state.id).then(function(t){return e.setState({nome:t.data.nome,endereco:t.data.endereco,email:t.data.email,telefone:t.data.telefone,password:t.data.password})})}},{key:"validate",value:function(e){var t={};return e.nome||(t.nome="Enter a name"),e.endereco||(t.endereco="Enter a address"),e.email||(t.email="Enter a email"),e.telefone||(t.telefone="Enter a phone number"),e.password||(t.password="Enter a email"),t}},{key:"onSubmit",value:function(e){var t=this,a={id:this.state.id,nome:e.nome,endereco:e.endereco,email:e.email,telefone:e.telefone,password:e.password,papeis:[],targetDate:e.targetDate};a.papeis.push(this.role.value),console.log(a.papeis),-1==this.state.id?C.createUser(a).then(function(){return t.props.history.push("/users")}):C.updateUser(this.state.id,a).then(function(){return t.props.history.push("/users")})}},{key:"render",value:function(){var e=this,t=[{value:"ADMIN",label:"Administrador"},{value:"ESTUDANTE",label:"Estudante"}],a=function(t){return e.role=t,console.log(e.role),t.value},n=this.state,s=n.id,c=n.nome,l=n.endereco,i=n.email,o=n.telefone,u=n.password,d=n.papeis;return r.a.createElement("div",null,r.a.createElement("h3",null,"User"),r.a.createElement("div",{className:"container"},r.a.createElement(g.d,{initialValues:{id:s,nome:c,endereco:l,email:i,telefone:o,password:u,papeis:d},onSubmit:this.onSubmit,validateOnChange:!1,validateOnBlur:!1,validate:this.validate,enableReinitialize:!0},function(e){return r.a.createElement(g.c,null,r.a.createElement(g.a,{name:"description",component:"div",className:"alert alert-warning"}),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Id"),r.a.createElement(g.b,{className:"form-control",type:"text",name:"id",disabled:!0})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Name"),r.a.createElement(g.b,{className:"form-control",type:"text",name:"nome"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement(g.b,{className:"form-control",type:"text",name:"password"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Role"),r.a.createElement(O.a,{options:t,value:t.find(function(e){return e.value}),onChange:a})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Address"),r.a.createElement(g.b,{className:"form-control",type:"text",name:"endereco"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement(g.b,{className:"form-control",type:"email",name:"email"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Phone Number"),r.a.createElement(g.b,{className:"form-control",type:"tel",name:"telefone"})),r.a.createElement("button",{className:"btn btn-success",type:"submit"},"Save"))})))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={users:[],message:null},a.deleteUserClicked=a.deleteUserClicked.bind(Object(m.a)(Object(m.a)(a))),a.updateUserClicked=a.updateUserClicked.bind(Object(m.a)(Object(m.a)(a))),a.addUserClicked=a.addUserClicked.bind(Object(m.a)(Object(m.a)(a))),a.refreshUsers=a.refreshUsers.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.refreshUsers()}},{key:"refreshUsers",value:function(){var e=this;C.retrieveAllUsers().then(function(t){e.setState({users:t.data})})}},{key:"deleteUserClicked",value:function(e){var t=this;C.deleteUser(e).then(function(a){t.setState({message:"Delete of user ".concat(e," Successful")}),t.refreshUsers()})}},{key:"addUserClicked",value:function(){this.props.history.push("/users/-1")}},{key:"updateUserClicked",value:function(e){this.props.history.push("/users/".concat(e))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"All Users"),this.state.message&&r.a.createElement("div",{className:"alert alert-success"},this.state.message),r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Update"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,this.state.users.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.nome),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.updateUserClicked(t.id)}},"Update")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.deleteUserClicked(t.id)}},"Delete")))}))),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"btn btn-success",onClick:this.addUserClicked},"Add"))))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={users:[],usersNotOnCourse:[],message:null},a.deleteUserClicked=a.deleteUserClicked.bind(Object(m.a)(Object(m.a)(a))),a.addUserClicked=a.addUserClicked.bind(Object(m.a)(Object(m.a)(a))),a.refreshUsers=a.refreshUsers.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.refreshUsers()}},{key:"refreshUsers",value:function(){var e=this;f.retrieveAllUsers(this.props.match.params.id).then(function(t){e.setState({users:t.data})}),f.retrieveUsersNotOnCourse(this.props.match.params.id).then(function(t){e.setState({usersNotOnCourse:t.data})})}},{key:"deleteUserClicked",value:function(e){var t=this;f.deleteUser(this.props.match.params.id,e).then(function(a){t.setState({message:"Delete of user ".concat(e," Successful")}),t.refreshUsers()})}},{key:"addUserClicked",value:function(e){var t=this;f.addUser(this.props.match.params.id,e).then(function(a){t.setState({message:"User ".concat(e," has been successfully added")}),t.refreshUsers()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Users of Activity ",this.props.match.params.id," "),this.state.message&&r.a.createElement("div",{className:"alert alert-success"},this.state.message),r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Add"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,this.state.users.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.nome),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.deleteUserClicked(t.id)}},"Delete")))}),this.state.usersNotOnCourse.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.nome),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.addUserClicked(t.id)}},"Add")),r.a.createElement("td",null))})))))}}]),t}(n.Component),w=a(44),S=new(function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"executeBasicAuthenticationService",value:function(e,t){return p.a.get("".concat("http://localhost:8080","/basicauth"),{headers:{authorization:this.createBasicAuthToken(e,t)}})}},{key:"executeJwtAuthenticationService",value:function(e,t){return p.a.post("".concat("http://localhost:8080","/authenticate"),{username:e,password:t})}},{key:"createBasicAuthToken",value:function(e,t){return"Basic "+window.btoa(e+":"+t)}},{key:"registerSuccessfulLogin",value:function(e,t){sessionStorage.setItem("authenticatedUser",e),this.setupAxiosInterceptors(this.createBasicAuthToken(e,t))}},{key:"registerSuccessfulLoginForJwt",value:function(e,t){sessionStorage.setItem("authenticatedUser",e),this.setupAxiosInterceptors(this.createJWTToken(t))}},{key:"createJWTToken",value:function(e){return"Bearer "+e}},{key:"logout",value:function(){sessionStorage.removeItem("authenticatedUser")}},{key:"isUserLoggedIn",value:function(){return null!==sessionStorage.getItem("authenticatedUser")}},{key:"getLoggedInUserName",value:function(){var e=sessionStorage.getItem("authenticatedUser");return null===e?"":e}},{key:"setupAxiosInterceptors",value:function(e){var t=this;p.a.interceptors.request.use(function(a){return t.isUserLoggedIn()&&(a.headers.authorization=e),a})}}]),e}()),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",hasLoginFailed:!1,showSuccessMessage:!1},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.loginClicked=a.loginClicked.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"loginClicked",value:function(){var e=this;S.executeJwtAuthenticationService(this.state.username,this.state.password).then(function(t){S.registerSuccessfulLoginForJwt(e.state.username,t.data.token),e.props.history.push("/courses")}).catch(function(){e.setState({showSuccessMessage:!1}),e.setState({hasLoginFailed:!0})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"container"},this.state.hasLoginFailed&&r.a.createElement("div",{className:"alert alert-warning"},"Invalid Credentials"),this.state.showSuccessMessage&&r.a.createElement("div",null,"Login Sucessful"),"User Name: ",r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange}),"Password: ",r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("button",{className:"btn btn-success",onClick:this.loginClicked},"Login")))}}]),t}(n.Component),x=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"You are logged out"),r.a.createElement("div",{className:"container"},"Thank You for Using Our Application."))}}]),t}(n.Component),D=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=S.isUserLoggedIn();return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-primary"},r.a.createElement("ul",{className:"navbar-nav",style:{color:"white"}},r.a.createElement("li",null,r.a.createElement(E.b,{className:"nav-link",style:{color:"white"},to:"/courses"},"Activities/Courses")),r.a.createElement("li",null,r.a.createElement(E.b,{className:"nav-link",style:{color:"white"},to:"/users"},"Users"))),r.a.createElement("ul",{className:"navbar-nav navbar-collapse justify-content-end"},!e&&r.a.createElement("li",null,r.a.createElement(E.b,{className:"nav-link",style:{color:"white"},to:"/login"},"Login")),e&&r.a.createElement("li",null,r.a.createElement(E.b,{className:"nav-link",style:{color:"white"},to:"/logout",onClick:S.logout},"Logout")))))}}]),t}(n.Component),I=Object(k.g)(D),L=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return S.isUserLoggedIn()?r.a.createElement(k.b,this.props):r.a.createElement(k.a,{to:"/login"})}}]),t}(n.Component),B=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{style:{width:"100%"}}),r.a.createElement("div",{className:"col s12 m6",style:{margin:"auto",width:"50%",padding:"10px"}},r.a.createElement("div",{className:"card horizontal"},r.a.createElement("div",{className:"card-content black-text"},r.a.createElement("h1",null,"Users/Activities Application"),r.a.createElement(k.d,null,r.a.createElement(k.b,{path:"/",exact:!0,component:A}),r.a.createElement(k.b,{path:"/login",exact:!0,component:A}),r.a.createElement(L,{path:"/logout",exact:!0,component:x}),r.a.createElement(L,{path:"/courses",exact:!0,component:v}),r.a.createElement(L,{path:"/courses/:id/addUser/:idUser",exact:!0,component:N}),r.a.createElement(L,{path:"/courses/:id/addUser",exact:!0,component:N}),r.a.createElement(L,{path:"/users",exact:!0,component:U}),r.a.createElement(L,{path:"/user",exact:!0,component:j}),r.a.createElement(L,{path:"/users/:id",exact:!0,component:j}),r.a.createElement(L,{path:"/courses",exact:!0,component:v}),r.a.createElement(L,{path:"/courses/:id",component:y})))))))}}]),t}(n.Component),T=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{padding:"0px",maxWidth:"100%"}},r.a.createElement(B,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,1,2]]]);
//# sourceMappingURL=main.69a3ec99.chunk.js.map